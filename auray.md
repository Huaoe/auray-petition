# üéØ PRD - MODULE IA "TRANSFORMEZ VOTRE √âGLISE D'AURAY"

## üìã R√âSUM√â EX√âCUTIF

**Vision** : Cr√©er le module le plus spectaculaire et engageant du site de p√©tition - une exp√©rience IA interactive permettant aux visiteurs de visualiser instantan√©ment l'√©glise Saint-Gildas d'Auray transform√©e selon 10 visions cr√©atives diff√©rentes.

**Objectif** : Transformer la critique en inspiration positive via une exp√©rience utilisateur r√©volutionnaire.

**Impact attendu** : Augmentation massive de l'engagement utilisateur, viralit√© sur r√©seaux sociaux, conversion optimis√©e vers signature p√©tition.

---

## üé® SP√âCIFICATIONS PRODUIT

### 1. CONCEPT CORE

#### 1.1 Photo de R√©f√©rence
- **Source** : Image haute d√©finition actuelle de l'√©glise Saint-Gildas d'Auray
- **Format** : 1920x1080px minimum, format 16:9
- **Qualit√©** : Photo professionnelle, √©clairage optimal, angle frontal
- **Backup** : 3-5 angles diff√©rents pour variations

#### 1.2 Interface Utilisateur Intuitive
```
[PHOTO √âGLISE BASE]          [BOUTONS TRANSFORMATIONS]
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     ‚îÇ      ‚îÇüèÉ‚Äç‚ôÇÔ∏è   ‚îÇüé≠   ‚îÇüìö   ‚îÇüçΩÔ∏è   ‚îÇüé®   ‚îÇ
‚îÇ   √âglise actuelle   ‚îÇ ‚û§    ‚îÇSport‚îÇCult ‚îÇBibl ‚îÇRest ‚îÇArt  ‚îÇ
‚îÇ                     ‚îÇ      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ                     ‚îÇ      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇüå±   ‚îÇüè¢   ‚îÇüéì   ‚îÇüé™   ‚îÇüè†   ‚îÇ
                             ‚îÇEco  ‚îÇServ ‚îÇForm ‚îÇF√™te ‚îÇLog  ‚îÇ
                             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 1.3 Exp√©rience de Transformation
1. **S√©lection** : Clic sur bouton transformation (ex: üèÉ‚Äç‚ôÇÔ∏è Sport)
2. **Loading** : Animation 3-5 secondes avec progress bar
3. **R√©v√©lation** : Apparition de l'image transform√©e via IA
4. **Comparaison** : Slider avant/apr√®s interactif
5. **Plein √âcran** : Mode immersif avec zoom et navigation

---

## ü§ñ ARCHITECTURE TECHNIQUE IA

### 2. STACK TECHNOLOGIQUE

#### 2.1 APIs IA Int√©gr√©es
```typescript
interface IAProviders {
  primary: "Stable Diffusion" | "DALL-E 3" | "Midjourney";
  fallback: "Leonardo.ai" | "Runway ML";
  optimization: "Upscaler AI" | "Real-ESRGAN";
}
```

**Stable Diffusion API** (Principal)
- **Usage** : G√©n√©ration architecturale haute qualit√©
- **Mod√®les** : SD XL 1.0, ControlNet pour architecture
- **Co√ªt** : ~$0.02 par g√©n√©ration

**DALL-E 3 API** (Fallback)
- **Usage** : Rendu photor√©aliste de secours
- **Avantage** : Qualit√© garantie, pas de NSFW
- **Co√ªt** : ~$0.04 par g√©n√©ration

**Cache Intelligent**
```typescript
interface CacheSystem {
  redis: RedisCache;
  cloudinary: ImageStorage;
  preGenerated: PopularTransformations[];
  userGenerated: UserCache;
}
```

#### 2.2 Prompts Engineering Optimis√©s

**Template de Base** :
```
"Professional architectural visualization of [√âGLISE_AURAY_DESCRIPTION] transformed into [TRANSFORMATION_TYPE], maintaining original Gothic stone architecture, [SPECIFIC_ELEMENTS], photorealistic, high quality, architectural photography style, natural lighting, 4K resolution"
```

**Variables Dynamiques** :
- `√âGLISE_AURAY_DESCRIPTION` : "Gothic stone church in Auray, Brittany, France, with pointed arches and bell tower"
- `TRANSFORMATION_TYPE` : Variable selon s√©lection utilisateur
- `SPECIFIC_ELEMENTS` : √âl√©ments sp√©cifiques √† chaque transformation

---

## üéØ 10 TRANSFORMATIONS D√âTAILL√âES

### 3. SP√âCIFICATIONS PAR TRANSFORMATION

#### 3.1 üèÉ‚Äç‚ôÇÔ∏è TRANSFORMATION SPORT
**Concept** : Salle d'escalade moderne dans architecture gothique
**Prompt IA** :
```
"Transform this Gothic church in Auray into a modern climbing gym, keeping the stone architecture, adding colorful climbing walls along the interior walls, safety equipment, LED sports lighting, people climbing and exercising, modern gym equipment, maintaining the cathedral ceiling height"
```
**√âl√©ments visuels** :
- Murs d'escalade color√©s (bleu, rouge, vert) sur pierres gothiques
- √âclairage LED sportif moderne
- Grimpeurs en action (4-6 personnes)
- Mat√©riel s√©curit√© visible (cordes, harnais)
- Tapis de r√©ception color√©s au sol

#### 3.2 üé≠ TRANSFORMATION CULTURELLE
**Concept** : Salle de concert intimiste
**Prompt IA** :
```
"Transform this Gothic church in Auray into a vibrant concert hall, keep the stone architecture, add professional stage lighting, sound equipment, comfortable audience seating, musicians performing on stage, atmospheric concert lighting in blue and purple tones"
```
**√âl√©ments visuels** :
- Sc√®ne moderne avec √©clairage professionnel
- Syst√®me son visible (enceintes, micros)
- Public assis dans si√®ges confortables
- Musiciens en performance
- √âclairage d'ambiance color√©

#### 3.3 üìö TRANSFORMATION BIBLIOTH√àQUE
**Concept** : Biblioth√®que monumentale type Maastricht
**Prompt IA** :
```
"Transform this Gothic church in Auray into a magnificent library like Selexyz Dominicanen in Maastricht, massive bookshelves reaching up to the vaulted ceiling, reading areas with comfortable chairs, people reading and studying, warm lighting, books displayed floor to ceiling"
```
**√âl√©ments visuels** :
- √âtag√®res g√©antes jusqu'aux vo√ªtes
- Espaces lecture avec fauteuils confortables
- Lecteurs dans l'espace (8-10 personnes)
- √âclairage chaleureux dor√©
- Livres color√©s sur toute la hauteur

#### 3.4 üçΩÔ∏è TRANSFORMATION RESTAURANT
**Concept** : Restaurant gastronomique type "The Jane" Anvers
**Prompt IA** :
```
"Transform this Gothic church in Auray into an upscale restaurant like The Jane in Antwerp, elegant dining tables with white tablecloths, professional kitchen visible, diners enjoying meals, atmospheric restaurant lighting, maintaining the Gothic architecture"
```
**√âl√©ments visuels** :
- Tables √©l√©gantes avec nappes blanches
- Cuisine ouverte professionnelle
- Clients d√Ænant (15-20 personnes)
- √âclairage restaurant tamis√©
- Service en cours

#### 3.5 üé® TRANSFORMATION ATELIER D'ART
**Concept** : Atelier d'artiste avec volumes exceptionnels
**Prompt IA** :
```
"Transform this Gothic church in Auray into an artist studio, large canvases and sculptures, natural light from windows, artists working on paintings, art supplies organized, creative workshop atmosphere, maintaining stone architecture"
```
**√âl√©ments visuels** :
- Grandes toiles et sculptures
- Artistes au travail (3-4 personnes)
- Mat√©riel artistique organis√©
- Lumi√®re naturelle optimis√©e
- ≈íuvres expos√©es sur murs

#### 3.6 üå± TRANSFORMATION √âCOLOGIQUE
**Concept** : Jardin botanique int√©rieur
**Prompt IA** :
```
"Transform this Gothic church in Auray into an indoor botanical garden, lush plants and trees reaching toward the vaulted ceiling, walking paths through greenery, visitors exploring, natural greenhouse lighting, botanical paradise"
```
**√âl√©ments visuels** :
- V√©g√©tation luxuriante jusqu'aux vo√ªtes
- Chemins de visite serpentant
- Visiteurs explorant (6-8 personnes)
- √âclairage naturel type serre
- Diversit√© v√©g√©tale visible

#### 3.7 üè¢ TRANSFORMATION SERVICES PUBLICS
**Concept** : Mairie moderne dans cadre historique
**Prompt IA** :
```
"Transform this Gothic church in Auray into a modern town hall, citizen service desks, waiting areas, people being served by staff, modern administrative layout while preserving Gothic architecture, professional government office atmosphere"
```
**√âl√©ments visuels** :
- Guichets d'accueil modernes
- Espaces d'attente confortables
- Citoyens et personnel (10-12 personnes)
- Signal√©tique administrative claire
- Ambiance service public moderne

#### 3.8 üéì TRANSFORMATION FORMATION
**Concept** : Centre de formation high-tech
**Prompt IA** :
```
"Transform this Gothic church in Auray into a modern training center, computer workstations, conference rooms with projectors, students learning, modern educational technology, maintaining architectural heritage"
```
**√âl√©ments visuels** :
- Postes informatiques modernes
- Salles avec √©quipement projection
- √âtudiants en formation (12-15 personnes)
- Technologie √©ducative visible
- Espaces modulables

#### 3.9 üé™ TRANSFORMATION FESTIVE
**Concept** : Salle √©v√©nementielle polyvalente
**Prompt IA** :
```
"Transform this Gothic church in Auray into a festive event space, wedding reception or celebration in progress, elegant decoration, guests celebrating, professional event lighting, maintaining Gothic grandeur"
```
**√âl√©ments visuels** :
- D√©coration √©l√©gante √©v√©nementielle
- Invit√©s en c√©l√©bration (20-25 personnes)
- √âclairage √©v√©nementiel color√©
- Tables de r√©ception organis√©es
- Ambiance festive

#### 3.10 üè† TRANSFORMATION LOGEMENT
**Concept** : Loft r√©sidentiel d'exception
**Prompt IA** :
```
"Transform this Gothic church in Auray into a luxury residential loft, modern living areas with designer furniture, bedroom in the choir area, kitchen integrated into the space, maintaining stone architecture, warm home lighting"
```
**√âl√©ments visuels** :
- Mobilier design moderne
- Zones r√©sidentielles d√©finies
- Cuisine int√©gr√©e √©l√©gante
- √âclairage r√©sidentiel chaleureux
- Sentiment de "chez soi"

---

## üíª D√âVELOPPEMENT TECHNIQUE

### 4. COMPOSANTS REACT/NEXT.JS

#### 4.1 Structure Composant Principal
```typescript
// components/ChurchTransformationAI.tsx
export interface TransformationOption {
  id: string;
  icon: string;
  title: string;
  description: string;
  prompt: string;
  colorScheme: string;
}

export const ChurchTransformationAI = () => {
  const [selectedTransformation, setSelectedTransformation] = useState<string | null>(null);
  const [generatedImage, setGeneratedImage] = useState<string | null>(null);
  const [isLoading, setIsLoading] = useState(false);
  const [isFullscreen, setIsFullscreen] = useState(false);
  
  // Logic here...
}
```

#### 4.2 API Routes
```typescript
// pages/api/generate-transformation.ts
export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  const { transformationType, userSessionId } = req.body;
  
  try {
    // 1. Check cache first
    const cachedImage = await checkCache(transformationType);
    if (cachedImage) return res.json({ image: cachedImage, source: 'cache' });
    
    // 2. Generate with AI
    const prompt = buildPrompt(transformationType);
    const generatedImage = await generateWithAI(prompt);
    
    // 3. Cache result
    await cacheImage(transformationType, generatedImage);
    
    // 4. Return result
    res.json({ image: generatedImage, source: 'generated' });
  } catch (error) {
    res.status(500).json({ error: 'Generation failed' });
  }
}
```

#### 4.3 Optimisations Performance
```typescript
// utils/imageOptimization.ts
export const optimizeImage = async (imageUrl: string) => {
  // Compression automatique
  // Resize pour diff√©rents devices
  // Conversion WebP/AVIF
  // CDN upload
};

export const preloadPopularTransformations = async () => {
  // Pre-g√©n√©ration des 3 transformations les plus populaires
  // Cache warming au d√©marrage
};
```

---

## üìä M√âTRIQUES & ANALYTICS

### 5. KPIs √Ä MESURER

#### 5.1 Engagement Module
- **Taux d'utilisation** : % visiteurs utilisant le module
- **Transformations par session** : Moyenne transformations test√©es
- **Temps d'engagement** : Dur√©e moyenne sur module
- **Partages sociaux** : Nombre de partages des transformations

#### 5.2 Conversion P√©tition
- **Conversion post-module** : % signatures apr√®s utilisation module
- **Parcours optimal** : Quelle transformation convertit le mieux
- **Abandon vs engagement** : Corr√©lation utilisation module / signature

#### 5.3 Techniques
- **Performance IA** : Temps de g√©n√©ration moyen
- **Taux de succ√®s** : % g√©n√©rations r√©ussies
- **Utilisation cache** : % hits cache vs g√©n√©rations fresh
- **Co√ªts IA** : Budget quotidien/mensuel

---

## üöÄ ROADMAP DE D√âVELOPPEMENT

### 6. PHASES DE D√âPLOIEMENT

#### Phase 1 : MVP (2 semaines)
- [ ] Interface utilisateur de base
- [ ] Int√©gration Stable Diffusion API
- [ ] 3 transformations pilotes (Sport, Culture, Biblioth√®que)
- [ ] Syst√®me de cache basique
- [ ] Analytics de base

#### Phase 2 : Enrichissement (1 semaine)
- [ ] 7 transformations restantes
- [ ] Syst√®me de comparaison avant/apr√®s
- [ ] Mode plein √©cran
- [ ] Optimisations performance
- [ ] Fallback APIs

#### Phase 3 : Polish & Viral (1 semaine)
- [ ] Animations et microinteractions
- [ ] Partage social optimis√©
- [ ] SEO et m√©tadonn√©es
- [ ] Tests utilisateurs
- [ ] Monitoring avanc√©

#### Phase 4 : Scale (Ongoing)
- [ ] Nouvelles transformations selon feedback
- [ ] Personnalisation utilisateur
- [ ] Version mobile optimis√©e
- [ ] Int√©gration r√©alit√© augment√©e (future)

---

## üí∞ BUDGET ESTIM√â

### 7. CO√õTS PR√âVUS

#### 7.1 D√©veloppement
- **D√©veloppeur Senior** : 40h √ó 70‚Ç¨ = 2,800‚Ç¨
- **UI/UX Designer** : 20h √ó 60‚Ç¨ = 1,200‚Ç¨
- **Integration & Tests** : 10h √ó 50‚Ç¨ = 500‚Ç¨
- **Total Dev** : **4,500‚Ç¨**

#### 7.2 Co√ªts IA Op√©rationnels (mensuel)
- **Stable Diffusion** : ~500 g√©n√©rations √ó 0.02‚Ç¨ = 10‚Ç¨
- **DALL-E 3 Fallback** : ~100 g√©n√©rations √ó 0.04‚Ç¨ = 4‚Ç¨
- **Cache/Storage** : Cloudinary Pro = 99‚Ç¨
- **Total Mensuel** : **113‚Ç¨**

#### 7.3 Infrastructure
- **CDN Premium** : 50‚Ç¨/mois
- **Database** : 25‚Ç¨/mois
- **Monitoring** : 20‚Ç¨/mois
- **Total Infra** : **95‚Ç¨/mois**

**BUDGET TOTAL LANCEMENT** : 4,500‚Ç¨ + 208‚Ç¨/mois

---

## üéØ CRIT√àRES DE SUCC√àS

### 8. OBJECTIFS MESURABLES

#### 8.1 Engagement (30 jours post-lancement)
- **‚úÖ 40%+ visiteurs** utilisent le module
- **‚úÖ 3+ transformations** par session en moyenne
- **‚úÖ 2+ minutes** temps moyen d'engagement
- **‚úÖ 15%+ partages** sur r√©seaux sociaux

#### 8.2 Conversion
- **‚úÖ +25% signatures** vs p√©riode pr√©c√©dente
- **‚úÖ 60%+ conversion** post-utilisation module
- **‚úÖ -30% taux rebond** sur page vision

#### 8.3 Viralit√©
- **‚úÖ 1000+ partages** organiques premier mois
- **‚úÖ 3+ articles** presse/blogs mentionnant module
- **‚úÖ Top 3** mots-cl√©s Google pour "transformation √©glise Auray"

---

## üîí RISQUES & MITIGATION

### 9. ANALYSE RISQUES

#### 9.1 Techniques
**Risque** : Panne API IA
**Mitigation** : 3 providers backup + cache extensif

**Risque** : Co√ªts IA explosifs
**Mitigation** : Rate limiting + quotas utilisateur

#### 9.2 L√©gaux
**Risque** : Droits image √©glise
**Mitigation** : Photo sous licence libre + accord pr√©alable

**Risque** : Contenus IA inappropri√©s
**Mitigation** : Mod√©ration automatique + review humaine

#### 9.3 UX
**Risque** : Temps g√©n√©ration trop long
**Mitigation** : Cache agressif + pre-g√©n√©ration populaires

**Risque** : Qualit√© IA d√©cevante
**Mitigation** : Prompts engineering + QA syst√©matique

---

## üìù NOTES DE D√âVELOPPEMENT

### 10. CONSID√âRATIONS TECHNIQUES

#### 10.1 SEO & M√©tadonn√©es
```html
<meta name="description" content="Visualisez l'√©glise Saint-Gildas d'Auray transform√©e gr√¢ce √† l'IA : sport, culture, biblioth√®que... 10 visions cr√©atives r√©volutionnaires!" />
<meta property="og:title" content="Transformez l'√âglise d'Auray avec l'IA - Visualisation Interactive" />
<meta property="og:image" content="/images/auray-transformations-preview.jpg" />
```

#### 10.2 Accessibilit√©
- Alt-text g√©n√©r√©s automatiquement pour images IA
- Navigation clavier compl√®te
- Contraste √©lev√© pour boutons
- Support lecteurs d'√©cran

#### 10.3 Performance Mobile
- Images responsives automatiques
- Interface tactile optimis√©e  
- Chargement progressif
- Mode hors-ligne basique

---

**üéØ OBJECTIF ULTIME** : Cr√©er l'exp√©rience web la plus spectaculaire et engageante jamais vue sur un site de p√©tition, transformant chaque visiteur en ambassadeur enthousiaste du projet !

---

## üö¶ VISION POUR LA SUITE : GAMIFICATION, PARTAGE & NFT

### 1. Syst√®me d'acc√®s √† la g√©n√©ration IA r√©serv√© aux signataires

- **√Ä la signature de la p√©tition** :
  - G√©n√©ration automatique d'un **code unique** (UUID, QR, ou lien s√©curis√©)
  - Ce code donne acc√®s √† l'interface de g√©n√©ration d'image IA pour l'√©glise d'Auray
  - 1 image g√©n√©r√©e par signataire (modulo quotas/config)

### 2. Partage viral et r√©f√©rencement de la p√©tition

- L'image g√©n√©r√©e comporte :
  - Un **watermark** "auray-petition.vercel.app"
  - Un **QR code** ou lien renvoyant vers la p√©tition
  - Un bouton de **partage direct** (Twitter, Instagram, Facebook, WhatsApp)
- Message pr√©-rempli :  
  > "Je viens de signer pour r√©inventer l'√©glise d'Auray ! non juste demander la r√©duction des temps de sonneries ;)
   D√©couvrez ma vision et votez pour votre pr√©f√©r√©e sur auray-petition.vercel.app #AurayTransform√©e"

### 3. Galerie communautaire & concours de cr√©ativit√©

- **Toutes les images g√©n√©r√©es** sont affich√©es dans une **galerie publique** (mod√©ration a priori)
  - Filtres : r√©centes, plus partag√©es, coups de c≈ìur
  - Syst√®me de **votes** (1 vote/jour/utilisateur, login par email ou captcha)
- **Classement en temps r√©el** des visions les plus populaires

### 4. R√©compense NFT pour l'image gagnante

- √Ä la fin du concours (p√©riode d√©finie, ex : 1 mois post-lancement) :
  - L'image ayant re√ßu le plus de votes est **mint√©e en NFT unique sur Polygon (blockchain √©cofriendly, faible co√ªt, compatible Opensea)**.
  - Le cr√©ateur re√ßoit ce NFT √† son adresse (wallet ou custodial)
  - Communication officielle : "Votre vision entre dans l'histoire num√©rique d'Auray !"

### 5. Impacts attendus

- **Augmentation forte du taux de signature** (acc√®s exclusif √† la g√©n√©ration IA)
- **Effet viral** via partages sociaux r√©f√©renc√©s
- **Engagement communautaire** (vote, concours, fiert√© locale)
- **Visibilit√© presse et m√©dias innovants** (NFT, IA, patrimoine)

---

> Cette m√©canique transforme chaque signataire en ambassadeur cr√©atif du projet et d√©multiplie la port√©e de la p√©tition gr√¢ce √† la viralit√© num√©rique et √† la reconnaissance (NFT) !


coupon desactivated in local.
give coupon in proportion : 2 coupons for petition 
3 coupons for petition + newsleter
4 coupons for petition + newsletter + comment
add a sentiment analysis to the comment to be sure it's positive
share to friends give 1 coupon per friends
share to social networks give 1 coupon per social network 
reinitialis√© le prompt ne fonctionne pas bien, le bouton de generation de la transformation disparait
partage de l'image resultante
gif de morphing entre les 2 images
permettre de poster directement sur instagram
permettre de poster directement sur twitter
permettre de poster directement sur facebook
permettre de poster directement sur linkedin
pouvoir elaborer le mask soit meme
compteur defilant sur la page de petition
verification des doublons de mail dans la petition mais pas en localhost